!function(){"use strict";function e(a){27===a.keyCode&&(document.exitFullscreen(),a.stopPropagation(),a.preventDefault())}var c=function(a,b){var c="webkit moz ms".split(" "),d=c.length;a=a.charAt(0).toUpperCase()+a.slice(1);for(var e=0;d>e;e++)if(c[e]+a in b)return c[e];return!1},d=c("exitFullscreen",document)||c("cancelFullScreen",document);"exitFullscreen"in document||!d||(Element.prototype.requestFullscreen=function(a){d+"RequestFullscreen"in this?this[d+"RequestFullscreen"](a):this[d+"RequestFullScreen"](a)},document.exitFullscreen=document[d+"ExitFullscreen"]||document[d+"CancelFullScreen"],Object.defineProperties(document,{fullscreenEnabled:{get:function(){return!!document[d+"FullScreenEnabled"]||!!document[d+"FullScreenEnabled"]},enumerable:!0},fullscreenElement:{get:function(){return document[d+"FullscreenElement"]||document[d+"FullScreenElement"]||document.webkitCurrentFullScreenElement||null},enumerable:!0}}),document.addEventListener(d+"fullscreenchange",function(){var a=document.createEvent("Event");a.initEvent("fullscreenchange",!0,!1),document.dispatchEvent(a),document.fullscreenElement?document.addEventListener("keydown",e,!1):document.removeEventListener("keydown",e,!1)}),document.addEventListener(d+"fullscreenerror",function(){var a=document.createEvent("Event");a.initEvent("fullscreenerror",!0,!1),document.dispatchEvent(a)}),"allowfullscreen"in HTMLIFrameElement.prototype||Object.defineProperty(HTMLIFrameElement.prototype,"allowfullscreen",{get:function(){return this.hasAttribute("allowfullscreen")||this.hasAttribute(d+"allowfullscreen")},set:function(a){var b=d+"AllowFullscreen";a?(this.setAttribute("allowfullscreen",""),this.setAttribute(b.toLowerCase(),"")):(this.removeAttribute("allowfullscreen"),this.removeAttribute(b.toLowerCase()))},enumerable:!0}))}(window);